【吹き出しプラグイン Ver.0.02】
http://hororo.wp.xdomain.jp/

2021/7/22更新 v507b対応版

-------------------------------------------------------------------------------------------------
■機能
-------------------------------------------------------------------------------------------------
  メッセージ枠に機能を追加するプラグイン。
　
  ◆機能
    ・パラメータでCSS吹き出しが作れます。
    ・キャラクターなど、指定した要素の周りに自動配置できます。
    ・キャラ名枠位置を、メッセージ枠からの相対値で指定できます。
      相対値で指定する事で、メッセージ枠を移動した時一緒に移動します。
    ・メッセージ枠に「border」を指定できます。
    ・メッセージ枠に「name（Class名）」を指定できます。
    ・メッセージ枠に画像を使う場合「background-size」を指定できます。
    ・公式タグ「position」のパラメータも使えます。※visibleは非対応。
    ・同じレイヤーであれば、パラメータ省略時は値が継承されます。
      ※layerはcurrentタグで指定されたレイヤが選択されます。


-------------------------------------------------------------------------------------------------
■導入方法
-------------------------------------------------------------------------------------------------
  ①data/others/plugin に 「mc_position」フォルダを入れてください。
　
  ②first.ks など、起動機に必ず読み込むファイルでプラグインを呼び出してください。
    [plugin name="mc_position"]

	③[mc_position] タグでメッセージ枠の指定をします。


-------------------------------------------------------------------------------------------------
■パラメーター
-------------------------------------------------------------------------------------------------
  ※省略した場合は直前に指定した値のままになります。
  ※positionと同じパラメータは省略しています。

    パラメータ名      値             説明
    right             px値/%値       メッセージ枠を右位置を指定します。right優先。
    bottom            px値/%値       メッセージ枠を下位置を指定します。bottom優先。
    margin            px値           メッセージの各margin値が同一の場合の指定。各margin値優先。
    bg_size           cover等*1      background-size を指定できます。※frame使用時。
    border-size       px値           borderの太さ。
    border_color      色             boederの色。
    balloon           方向*2         吹き出しの方向。
    balloon_size      px値           吹き出しのサイズ。※吹き出しは正三角形固定です。
    target_name       文字列         ターゲット要素の名前（class名）
    target_pos        方向*2         ターゲット要素のどの方向に表示するか。
    target_y          px値           ターゲット要素に対する表示位置調整（縦方向）-値で上、+値で下
    target_x          px値           ターゲット要素に対する表示位置調整（横方向）-値で左、+値で右
    chara_y           px値           キャラ名枠表示位置をメッセージ枠からの相対位置で指定します（縦方向）
    chara_x           px値           キャラ名枠表示位置をメッセージ枠からの相対位置で指定します（横方向）
    name              文字列         メッセージ枠にclass名を指定します。
                                     ※message0_fore にclass指定するので、message_outerにstyle指定する場合は
                                       .message0_fore .message_outer {} と指定してください。

    *1 cover/contain/数値等。複数の値の場合は「100%,100%」とカンマで入力してください。複数背景には非対応。
       詳しくは「CSS background-size」で検索してみてください。
    *2 top/right/left/bottom


  ◆吹き出しとborderについて
    ・吹き出しは各辺の中央に表示します。位置調整はできません。
		・opacity は 枠線にも適応されます。
    ・色指定を rgba で指定する事で、背景色とborder色を別に透過できますが、その場合、吹き出し部分と枠部分の境が目立ちます。

  ◆ターゲット機能について
    ・ターゲット要素を動かしても自動で追従はしません。ターゲット要素を動かす時は[mc_psition]タグを再記述してください。
    ・target_name は、class指定されてる名前を指定してください。
      [chara_new  name="akane" storage="chara/akane/normal.png" jname="あかね"]
      ↑上記の場合は、name="akane" の「akane」となります。jname では有効になりませんのでお気をつけください。
    ・キャラクター以外でも、classさえついていれば何でもターゲット対象になります。
    ・上下左右からはみ出る位置になる場合は、自動で画面内におさまるよう調整します。※キャラ名枠は非対応
    ・chara_y chara_x を指定した場合。メッセージ枠表示位置を動かした時にキャラ名枠も移動します。

  ※ティラノスクリプト標準では、メッセージにpadding-topが自動で付くので上側にスペースができます。
    気になる場合は、枠調整プラグインとの併用をおススメします。


-------------------------------------------------------------------------------------------------
■記述例
-------------------------------------------------------------------------------------------------
    例1： 準備中


-------------------------------------------------------------------------------------------------
■動作確認
-------------------------------------------------------------------------------------------------
  ティラノスクリプトv507b


-------------------------------------------------------------------------------------------------
■免責
-------------------------------------------------------------------------------------------------
  このプラグインを使用したことにより生じた損害・損失に対して制作者は一切責任を負いません。


-------------------------------------------------------------------------------------------------
■利用規約
-------------------------------------------------------------------------------------------------
  ・改造・再配布は自由です。ただし、有償での再配布は禁止します。改造後データの配布も同様にお願いします。
  ・利用報告、クレジット表記は任意です。
  ・このプラグインはドネーションウェア（カンパウェア）です。
    もしよろしければ寄付をお願いいたします（強制ではありません）
  ・詳しくはブログの「利用規約」をお読み頂くようお願いいたします。
    http://hororo.wp.xdomain.jp/termsofuse/


-------------------------------------------------------------------------------------------------
■制作者
-------------------------------------------------------------------------------------------------
  name　　hororo
  site　　めも調　http://hororo.wp.xdomain.jp/
  mail　　ruru.amu@gmail.com
  twitter @hororo_memocho


-------------------------------------------------------------------------------------------------
■更新履歴
-------------------------------------------------------------------------------------------------
　2021/07/22　ver0.01　β版
